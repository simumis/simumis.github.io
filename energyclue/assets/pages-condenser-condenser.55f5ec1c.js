import{h as t,s as e,j as a,k as l,o as s,c as u,w as n,i,a as o,b as r,d as c,r as d,F as f,t as m,f as _,e as h,l as v,m as p,I as x}from"./index-0f60f0bd.js";import{K as g,b as k,a as C,v as b,c as F,s as y,t as P}from"./dlt932.8429091c.js";import{s as j}from"./jif97.8c294950.js";import{_ as K}from"./_plugin-vue_export-helper.1b428a4d.js";const T=K({data:()=>({input_text:[{name:"凝汽器热负荷",value:"1100",default:"1100",unit:"MW"},{name:"冷却水入口温度",value:"20",default:"20",unit:"℃"},{name:"冷却水流量",value:"25000",default:"25000",unit:"kg/s"},{name:"冷却水比热",value:"4.18",default:"4.18",unit:"kJ/(kg·℃)"},{name:"凝汽器换热面积",value:"54000",default:"54000",unit:"m²"},{name:"冷却管外径",value:"25",default:"25",unit:"mm"},{name:"冷却管壁厚",value:"0.5",default:"0.5",unit:"mm"},{name:"冷却管数量",value:"55000",default:"55000",unit:"根"},{name:"流程数",value:"2",default:"2",unit:""},{name:"清洁系数",value:"0.85",default:"0.85",unit:""},{name:"冷却水密度",value:"1000",default:"1000",unit:"kg/m³"}],tube_materials:["HSn70-1(锡黄铜)","HA177-2(铝黄铜)","BFe30-1-1(铁白铜)","BFe10-1-1(铁白铜)","碳钢","TP304,TP316,TP317(不锈钢)","TA1,TA2(钛合金)"],material_index:-1,results:[{name:"冷却水管内流速",value:"",unit:"m/s"},{name:"基本传热系数",value:"",unit:"kW/(m²·℃)"},{name:"冷却水温修正系数",value:"",unit:""},{name:"管材和壁厚修正系数",value:"",unit:""},{name:"总体传热系数",value:"",unit:"kW/(m²·℃)"},{name:"凝汽器饱和温度",value:"",unit:"℃"},{name:"凝汽器饱和压力",value:"",unit:"kPa"},{name:"冷却水出口温度",value:"",unit:"℃"},{name:"冷却水温升",value:"",unit:"℃"},{name:"凝汽器端差",value:"",unit:"℃"}],storageKey:"__condenser_input",notes:["1、本程序依据《凝汽器与真空系统运行维护导则》(DL/T 932-2019)所列方法编制。","2、本程序根据标准公式计算凝汽器变工况特性，未对特定凝汽器进行校核，计算结果仅供参考。"]}),onLoad(){try{let e=t(this.storageKey);if(e&&e.length==this.input_text.length+1){this.material_index=parseInt(e[0]);for(let t=0;t<this.input_text.length;t++)this.input_text[t].value=e[t+1];this.implCalc()}else this.material_index=this.tube_materials.length-1}catch(e){console.log(e.message)}},computed:{isReady:function(){for(const t of this.input_text)if(""==t.value||isNaN(parseFloat(t.value)))return!1;return!0}},methods:{onMaterialSelect:function(t){let e=parseInt(t.detail.value);this.material_index=e},implCalc:function(){let t,a=parseFloat(this.input_text[0].value),l=parseFloat(this.input_text[1].value),s=parseFloat(this.input_text[2].value),u=parseFloat(this.input_text[3].value),n=parseFloat(this.input_text[4].value),i=parseFloat(this.input_text[5].value),o=parseFloat(this.input_text[6].value),r=parseFloat(this.input_text[7].value),c=parseFloat(this.input_text[8].value),d=parseFloat(this.input_text[9].value),f=parseFloat(this.input_text[10].value),m=b(s,i,o,r,c,f);try{t=g(i,m)}catch(V){e({title:"警告",content:V.message,showCancel:!1});for(let t of this.results)t.value="";return!1}let _=k(l),h=C(this.material_index,o),v=F(t,_,h,d),p=y(a,l,s,u,n,v),x=j(p,1);if(null==x){for(let t of this.results)t.value="";return e({title:"警告",content:"请检查输入数据是否在有效范围。",showCancel:!1}),!1}let K=x.p/1e3,T=P(a,l,s,u),R=T-l,S=p-T;return this.results[0].value=m.toPrecision(4),this.results[1].value=t.toPrecision(4),this.results[2].value=_.toPrecision(4),this.results[3].value=h.toPrecision(4),this.results[4].value=v.toPrecision(4),this.results[5].value=p.toPrecision(4),this.results[6].value=K.toPrecision(4),this.results[7].value=T.toPrecision(4),this.results[8].value=R.toPrecision(4),this.results[9].value=S.toPrecision(4),!0},onCalc:function(t){if(this.implCalc()){let t=[this.material_index.toString()];for(const e of this.input_text)t.push(e.value);try{a(this.storageKey,t)}catch(e){console.log("无法保存输入数据-condenser")}}},onReset:function(t){for(let e of this.input_text)e.value=e.default;this.material_index=this.tube_materials.length-1;for(let e of this.results)e.value="";l(this.storageKey)},onClear:function(t){for(let e of this.input_text)e.value="";for(let e of this.results)e.value="";l(this.storageKey)}}},[["render",function(t,e,a,l,g,k){const C=_,b=h,F=i,y=x,P=v,j=p;return s(),u(F,{class:"content"},{default:n((()=>[o(C,null,{default:n((()=>[r("输入区域：")])),_:1}),o(F,{class:"input-content"},{default:n((()=>[(s(!0),c(f,null,d(g.input_text,((t,e)=>(s(),u(F,{class:"input-item",key:e},{default:n((()=>[o(F,{class:"input-name"},{default:n((()=>[o(b,null,{default:n((()=>[r(m(t.name),1)])),_:2},1024)])),_:2},1024),o(y,{class:"input-val",type:"digit",placeholder:"请输入数据",modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},null,8,["modelValue","onUpdate:modelValue"]),o(F,{class:"input-unit"},{default:n((()=>[o(b,null,{default:n((()=>[r(m(t.unit),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),o(F,{class:"picker-content"},{default:n((()=>[o(F,{class:"picker-hint"},{default:n((()=>[o(b,null,{default:n((()=>[r("请选择冷却管材料：")])),_:1})])),_:1}),o(P,{class:"picker-item",onChange:k.onMaterialSelect,value:g.material_index,range:g.tube_materials},{default:n((()=>[r(m(g.tube_materials[g.material_index])+" ",1),o(b,{class:"mark-triangle"},{default:n((()=>[r("▼")])),_:1})])),_:1},8,["onChange","value","range"])])),_:1})])),_:1}),o(F,{class:"calc"},{default:n((()=>[o(j,{class:"calc-button-main","hover-class":"calc-button-main-hover",onClick:k.onCalc,disabled:!k.isReady},{default:n((()=>[r("开始计算")])),_:1},8,["onClick","disabled"]),o(j,{class:"calc-button-clear","hover-class":"calc-button-clear-hover",onClick:k.onClear},{default:n((()=>[r("清除输入")])),_:1},8,["onClick"]),o(j,{class:"calc-button-reset","hover-class":"calc-button-reset-hover",onClick:k.onReset},{default:n((()=>[r("恢复默认")])),_:1},8,["onClick"])])),_:1}),o(C,null,{default:n((()=>[r("计算结果：")])),_:1}),o(F,{class:"result-content"},{default:n((()=>[o(F,{class:"result-content"},{default:n((()=>[(s(!0),c(f,null,d(g.results,((t,e)=>(s(),u(F,{class:"result-item",key:e},{default:n((()=>[o(F,{class:"result-name"},{default:n((()=>[o(b,null,{default:n((()=>[r(m(t.name),1)])),_:2},1024)])),_:2},1024),o(F,{class:"result-val"},{default:n((()=>[o(b,null,{default:n((()=>[r(m(t.value),1)])),_:2},1024)])),_:2},1024),o(F,{class:"result-unit"},{default:n((()=>[o(b,null,{default:n((()=>[r(m(t.unit),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),o(C,null,{default:n((()=>[r("相关说明：")])),_:1}),o(F,{class:"notes"},{default:n((()=>[(s(!0),c(f,null,d(g.notes,((t,e)=>(s(),u(F,{class:"notes-item",key:e},{default:n((()=>[o(b,null,{default:n((()=>[r(m(t),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}]]);export{T as default};
