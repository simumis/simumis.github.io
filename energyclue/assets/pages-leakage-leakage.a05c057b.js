import{h as t,s as e,j as l,k as a,o as s,c as u,w as n,i as o,a as i,b as r,d as f,r as c,F as d,f as h,m as v,t as p,I as m,e as _}from"./index-54b82a9c.js";import{p as C,f as g}from"./jif97.8c294950.js";import{_ as y}from"./_plugin-vue_export-helper.1b428a4d.js";const F=y({data:()=>({test1:[{name:"泄漏蒸汽压力",value:"",default:"12.44",unit:"MPa"},{name:"泄漏蒸汽温度",value:"",default:"452.78",unit:"℃"},{name:"再热蒸汽压力",value:"",default:"3.50",unit:"MPa"},{name:"再热蒸汽温度",value:"",default:"535.87",unit:"℃"},{name:"中压缸排汽压力",value:"",default:"0.9456",unit:"MPa"},{name:"中压缸排汽温度",value:"",default:"341.75",unit:"℃"}],test2:[{name:"泄漏蒸汽压力",value:"",default:"12.488",unit:"MPa"},{name:"泄漏蒸汽温度",value:"",default:"486.00",unit:"℃"},{name:"再热蒸汽压力",value:"",default:"3.54",unit:"MPa"},{name:"再热蒸汽温度",value:"",default:"508",unit:"℃"},{name:"中压缸排汽压力",value:"",default:"0.954",unit:"MPa"},{name:"中压缸排汽温度",value:"",default:"320.42",unit:"℃"}],results:[{name:"过桥汽封泄露率",value:"",unit:"%"},{name:"中压缸效率",value:"",unit:"%"}],storageKey:"__leakage_input",notes:["1、本程序利用变汽温法计算高中压合缸汽轮机过桥汽封泄露率和中压缸实际效率。","2、过桥汽封泄漏率为过桥汽封漏汽量与再热蒸汽量的质量流量比值。","3、水蒸气的参数计算依据 IAPWS-IF97 公式。","4、输入的蒸汽压力均为绝对压力。","5、程序中默认输入数据取自参考文献：张志恒, 曹学宝, 孙大川. 变汽温法测试过桥漏汽量的应用分析[J]. 东北电力技术, 2016, 37(5):4.","6、计算结果准确性有待验证，仅供参考。"]}),onLoad(){try{let e=t(this.storageKey);if(e&&2==e.length&&6==e[0].length){for(let t=0;t<e[0].length;t++)this.test1[t].value=e[0][t],this.test2[t].value=e[1][t];this.implCalc()}else for(let t=0;t<6;t++)this.test1[t].value=this.test1[t].default,this.test2[t].value=this.test2[t].default}catch(e){console.log(e.message)}},computed:{isReady:function(){for(let t=0;t<6;t++)if(""==this.test1[t].value||isNaN(parseFloat(this.test1[t].value))||""==this.test2[t].value||isNaN(parseFloat(this.test2[t].value)))return!1;return!0}},methods:{implCalc:function(){let t,l,a,s=parseFloat(this.test1[0].value),u=parseFloat(this.test1[1].value);if(a=C("p",s,"t",u),null==a){for(let t of this.results)t.value="";return e({title:"警告",content:"请检查工况1泄漏蒸汽参数是否正确。",showCancel:!1}),!1}let n=a.h/1e3,o=parseFloat(this.test1[2].value),i=parseFloat(this.test1[3].value);if(a=C("p",o,"t",i),null==a){for(let t of this.results)t.value="";return e({title:"警告",content:"请检查工况1再热蒸汽参数是否正确。",showCancel:!1}),!1}let r=a.h/1e3,f=parseFloat(this.test1[4].value),c=parseFloat(this.test1[5].value);if(a=C("p",f,"t",c),null==a){for(let t of this.results)t.value="";return e({title:"警告",content:"请检查工况1中压缸排汽参数是否正确。",showCancel:!1}),!1}let d=a.h/1e3,h=parseFloat(this.test2[0].value),v=parseFloat(this.test2[1].value);if(a=C("p",h,"t",v),null==a){for(let t of this.results)t.value="";return e({title:"警告",content:"请检查工况2泄漏蒸汽参数是否正确。",showCancel:!1}),!1}let p=a.h/1e3,m=parseFloat(this.test2[2].value),_=parseFloat(this.test2[3].value);if(a=C("p",m,"t",_),null==a){for(let t of this.results)t.value="";return e({title:"警告",content:"请检查工况2再热蒸汽参数是否正确。",showCancel:!1}),!1}let y=a.h/1e3,F=parseFloat(this.test2[4].value),k=parseFloat(this.test2[5].value);if(a=C("p",F,"t",k),null==a){for(let t of this.results)t.value="";return e({title:"警告",content:"请检查工况2中压缸排汽参数是否正确。",showCancel:!1}),!1}let b=a.h/1e3,P=function(t,e,l,a,s,u){let n,o=(t*e+a)/(1+t);if(n=C("p",l,"h",o),null==n)return null;let i=n.s/1e3;return n=C("p",s,"s",i),null==n?null:(o-u)/(o-n.h/1e3)},V=function(t){let e=P(t,n,o,r,f,d),l=P(t,p,m,y,F,b);return null==e||null==l?Number.MAX_VALUE:e-l};try{t=g(V,0,1,1e-6)}catch(w){e({title:"警告",content:"求解过程未收敛，结果可能有误。请检查输入数据是否正确。",showCancel:!1}),console.log(w)}return l=P(t,n,o,r,f,d),null!=l&&(this.results[0].value=(100*t).toPrecision(4),this.results[1].value=(100*l).toPrecision(4),!0)},onCalc:function(t){if(this.implCalc()){let t=[["","","","","",""],["","","","","",""]];for(let e=0;e<6;e++)t[0][e]=this.test1[e].value,t[1][e]=this.test2[e].value;try{l(this.storageKey,t)}catch(e){console.log("无法保存输入数据-leakage")}}},onClear:function(t){for(let e of this.test1)e.value="";for(let e of this.test2)e.value="";for(let e of this.results)e.value="";a(this.storageKey)},onReset:function(t){for(let e of this.test1)e.value=e.default;for(let e of this.test2)e.value=e.default;for(let e of this.results)e.value="";a(this.storageKey)}}},[["render",function(t,e,l,a,C,g){const y=h,F=o,k=m,b=v,P=_;return s(),u(F,{class:"content"},{default:n((()=>[i(y,null,{default:n((()=>[r("工况1输入区域：")])),_:1}),i(F,{class:"input-content"},{default:n((()=>[(s(!0),f(d,null,c(C.test1,((t,e)=>(s(),u(F,{class:"input-item",key:e},{default:n((()=>[i(F,{class:"input-name"},{default:n((()=>[r(p(t.name),1)])),_:2},1024),i(k,{class:"input-val",type:"digit",placeholder:"请输入数据",modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},null,8,["modelValue","onUpdate:modelValue"]),i(F,{class:"input-unit"},{default:n((()=>[r(p(t.unit),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),i(y,null,{default:n((()=>[r("工况2输入区域：")])),_:1}),i(F,{class:"input-content"},{default:n((()=>[(s(!0),f(d,null,c(C.test2,((t,e)=>(s(),u(F,{class:"input-item",key:e},{default:n((()=>[i(F,{class:"input-name"},{default:n((()=>[r(p(t.name),1)])),_:2},1024),i(k,{class:"input-val",type:"digit",placeholder:"请输入数据",modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},null,8,["modelValue","onUpdate:modelValue"]),i(F,{class:"input-unit"},{default:n((()=>[r(p(t.unit),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),i(F,{class:"calc"},{default:n((()=>[i(b,{class:"calc-button-main","hover-class":"calc-button-main-hover",onClick:g.onCalc,disabled:!g.isReady},{default:n((()=>[r("开始计算")])),_:1},8,["onClick","disabled"]),i(b,{class:"calc-button-clear","hover-class":"calc-button-clear-hover",onClick:g.onClear},{default:n((()=>[r("清除输入")])),_:1},8,["onClick"]),i(b,{class:"calc-button-reset","hover-class":"calc-button-reset-hover",onClick:g.onReset},{default:n((()=>[r("恢复默认")])),_:1},8,["onClick"])])),_:1}),i(y,null,{default:n((()=>[r("计算结果：")])),_:1}),i(F,{class:"result-content"},{default:n((()=>[i(F,{class:"result-content"},{default:n((()=>[(s(!0),f(d,null,c(C.results,((t,e)=>(s(),u(F,{class:"result-item",key:e},{default:n((()=>[i(F,{class:"result-name"},{default:n((()=>[i(P,null,{default:n((()=>[r(p(t.name),1)])),_:2},1024)])),_:2},1024),i(F,{class:"result-val"},{default:n((()=>[i(P,null,{default:n((()=>[r(p(t.value),1)])),_:2},1024)])),_:2},1024),i(F,{class:"result-unit"},{default:n((()=>[i(P,null,{default:n((()=>[r(p(t.unit),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),i(y,null,{default:n((()=>[r("相关说明：")])),_:1}),i(F,{class:"notes"},{default:n((()=>[(s(!0),f(d,null,c(C.notes,((t,e)=>(s(),u(F,{class:"notes-item",key:e},{default:n((()=>[i(P,null,{default:n((()=>[r(p(t),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}]]);export{F as default};
