import{h as e,s as t,j as l,k as a,o as s,c as n,w as u,i,a as d,b as c,t as o,d as r,r as h,F as f,f as m,e as v,l as _,I as p,m as g}from"./index-0f60f0bd.js";import{p as x}from"./jif97.8c294950.js";import{_ as k}from"./_plugin-vue_export-helper.1b428a4d.js";const y=k({data:()=>({select1:["p-压力","t-温度","h-比焓"],index1:0,select1_name:["p","t","h"],unit1:["MPa","℃","kJ/kg"],select2:[["t-温度","h-比焓","s-比熵","x-干度"],["x-干度"],["s-比熵"]],index2:0,select2_name:[["t","h","s","x"],["x"],["s"]],unit2:[["℃","kJ/kg","kJ/(kg·℃)","kg/kg"],["kg/kg"],["kJ/(kg·℃)"]],value1:"",value2:"",results:[{name:"分区",val:"",unit:"-"},{name:"压力",val:"",unit:"MPa"},{name:"温度",val:"",unit:"℃"},{name:"比容",val:"",unit:"m³/kg"},{name:"密度",val:"",unit:"kg/m³"},{name:"内能",val:"",unit:"kJ/kg"},{name:"比焓",val:"",unit:"kJ/kg"},{name:"比熵",val:"",unit:"kJ/(kg·℃)"},{name:"定容比热",val:"",unit:"kJ/(kg·℃)"},{name:"定压比热",val:"",unit:"kJ/(kg·℃)"},{name:"声速",val:"",unit:"m/s"},{name:"干度",val:"",unit:"kg/kg"}],storageKey:"__if97_input",notes:["1、基于国际水和水蒸气性质协会（IAPWS）发布的工业用水和水蒸汽热力性质计算公式 IAPWS-IF97 [IAPWS R7-97(2012)]制作。","2、数据有效区域：当 0℃ ≤ t ≤ 800℃ 时，611.213Pa ≤ p ≤ 100MPa；当 800℃ ≤ t ≤ 2000℃ 时，611.213Pa ≤ p ≤ 50MPa。","3、点击数据输入栏左侧的参数类型，选择相应的参数组合，输入有效数值后点击“开始计算”按钮，即可在结果区查看计算结果。如果输入有误，则会弹出提示信息。","4、“x-干度”参数仅适用于饱和蒸汽区，代表每千克湿蒸汽中含有干饱和蒸汽的质量，取值范围为 [0-1]。","5、当处于湿蒸汽区时，不太清楚如何计算声速 w，因此仅以 “NaN”（代表 Not a Number） 显示；而对于其它区，干度 x 没有意义，也以 “NaN” 显示。"]}),onLoad(){try{let t=e(this.storageKey);t&&4==t.length&&(this.index1=parseInt(t[0]),this.value1=t[1],this.index2=parseInt(t[2]),this.value2=t[3],this.implCalc())}catch(t){console.log(t.message)}},computed:{isReady:function(){return""!=this.value1&&!isNaN(parseFloat(this.value1))&&""!=this.value2&&!isNaN(parseFloat(this.value2))}},methods:{onSelect1:function(e){let t=parseInt(e.detail.value);t!=this.index1&&(this.index1=t,this.index2=0)},onSelect2:function(e){let t=parseInt(e.detail.value);console.log(typeof t),t!=this.index2&&(this.index2=t)},implCalc:function(){let e=this.select1_name[this.index1],l=this.select2_name[this.index1][this.index2],a=parseFloat(this.value1),s=parseFloat(this.value2),n=x(e,a,l,s);if(null==n){for(let e of this.results)e.val="";return t({title:"警告",content:"请检查输入数据是否在有效范围。",showCancel:!1}),!1}let u=["rgn","p","t","v","d","u","h","s","cv","cp","w","x"];this.results[0].val=n.rgn;for(let t=1;t<this.results.length;t++){let e;e="d"==u[t]?1/n.v:n[u[t]],"p"==u[t]?e/=1e6:"t"==u[t]?e-=273.15:"u"!=u[t]&&"h"!=u[t]&&"s"!=u[t]&&"cv"!=u[t]&&"cp"!=u[t]||(e/=1e3),this.results[t].val=e.toPrecision(6)}return!0},onCalc:function(e){if(this.implCalc()){let e=["","","",""];e[0]=this.index1.toString(),e[1]=this.value1,e[2]=this.index2.toString(),e[3]=this.value2;try{l(this.storageKey,e)}catch(t){console.log("无法保存输入数据-if97")}}},onClear:function(){this.index1=0,this.index2=0,this.value1="",this.value2="";for(let e of this.results)e.val="";a(this.storageKey)}}},[["render",function(e,t,l,a,x,k){const y=m,C=v,w=_,b=p,I=i,N=g;return s(),n(I,{class:"content"},{default:u((()=>[d(y,null,{default:u((()=>[c("输入区域：")])),_:1}),d(I,{class:"input-content"},{default:u((()=>[d(I,{class:"input-item"},{default:u((()=>[d(w,{class:"input-picker",onChange:k.onSelect1,value:x.index1,range:x.select1},{default:u((()=>[c(o(x.select1[x.index1])+" ",1),d(C,{class:"mark-triangle"},{default:u((()=>[c("▼")])),_:1})])),_:1},8,["onChange","value","range"]),d(b,{class:"input-val",type:"digit",placeholder:"请输入数据",modelValue:x.value1,"onUpdate:modelValue":t[0]||(t[0]=e=>x.value1=e)},null,8,["modelValue"]),d(I,{class:"input-unit"},{default:u((()=>[d(C,null,{default:u((()=>[c(o(x.unit1[x.index1]),1)])),_:1})])),_:1})])),_:1}),d(I,{class:"input-item"},{default:u((()=>[d(w,{class:"input-picker",onChange:k.onSelect2,value:x.index2,range:x.select2[x.index1]},{default:u((()=>[c(o(x.select2[x.index1][x.index2])+" ",1),d(C,{class:"mark-triangle"},{default:u((()=>[c("▼")])),_:1})])),_:1},8,["onChange","value","range"]),d(b,{class:"input-val",type:"digit",placeholder:"请输入数据",modelValue:x.value2,"onUpdate:modelValue":t[1]||(t[1]=e=>x.value2=e)},null,8,["modelValue"]),d(I,{class:"input-unit"},{default:u((()=>[d(C,null,{default:u((()=>[c(o(x.unit2[x.index1][x.index2]),1)])),_:1})])),_:1})])),_:1}),d(I,{class:"calc"},{default:u((()=>[d(N,{class:"calc-button-main","hover-class":"calc-button-main-hover",onClick:k.onCalc,disabled:!k.isReady},{default:u((()=>[c("开始计算")])),_:1},8,["onClick","disabled"]),d(N,{class:"calc-button-clear","hover-class":"calc-button-clear-hover",onClick:k.onClear},{default:u((()=>[c("清除输入")])),_:1},8,["onClick"])])),_:1})])),_:1}),d(I,{class:"result-content"},{default:u((()=>[d(y,null,{default:u((()=>[c("计算结果：")])),_:1}),d(I,{class:"result-head"},{default:u((()=>[d(I,{class:"result-head-text",style:{width:"10%"}},{default:u((()=>[d(C,null,{default:u((()=>[c("序号")])),_:1})])),_:1}),d(I,{class:"result-head-text",style:{width:"30%"}},{default:u((()=>[d(C,null,{default:u((()=>[c("参数")])),_:1})])),_:1}),d(I,{class:"result-head-text",style:{width:"30%"}},{default:u((()=>[d(C,null,{default:u((()=>[c("数值")])),_:1})])),_:1}),d(I,{class:"result-head-text",style:{width:"30%"}},{default:u((()=>[d(C,null,{default:u((()=>[c("单位")])),_:1})])),_:1})])),_:1}),(s(!0),r(f,null,h(x.results,((e,t)=>(s(),n(I,{class:"result-item",key:t},{default:u((()=>[d(I,{class:"result-item-text",style:{width:"10%"}},{default:u((()=>[d(C,null,{default:u((()=>[c(o(t),1)])),_:2},1024)])),_:2},1024),d(I,{class:"result-item-text",style:{width:"30%"}},{default:u((()=>[d(C,null,{default:u((()=>[c(o(e.name),1)])),_:2},1024)])),_:2},1024),d(I,{class:"result-item-text",style:{width:"30%","background-color":"WhiteSmoke"}},{default:u((()=>[d(C,null,{default:u((()=>[c(o(e.val),1)])),_:2},1024)])),_:2},1024),d(I,{class:"result-item-text",style:{width:"30%"}},{default:u((()=>[d(C,null,{default:u((()=>[c(o(e.unit),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),d(y,null,{default:u((()=>[c("相关说明：")])),_:1}),d(I,{class:"notes"},{default:u((()=>[(s(!0),r(f,null,h(x.notes,((e,t)=>(s(),n(I,{class:"notes-item",key:t},{default:u((()=>[d(C,null,{default:u((()=>[c(o(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}],["__scopeId","data-v-7cb09393"]]);export{y as default};
