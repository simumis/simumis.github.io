import{h as e,s as t,j as a,k as l,o as s,c as u,w as n,i,a as o,b as r,d as c,r as f,F as h,t as d,f as m,e as v,l as p,m as _,I as g}from"./index-54b82a9c.js";import{K as k,b as C,a as F,d as b,v as y}from"./dlt932.8429091c.js";import{a as P}from"./jif97.8c294950.js";import{_ as x}from"./_plugin-vue_export-helper.1b428a4d.js";const j=x({data:()=>({inputs:[{name:"凝汽器热负荷",value:"1100",default:"1100",unit:"MW"},{name:"凝汽器压力",value:"5",default:"5",unit:"kPa"},{name:"冷却水入口温度",value:"20",default:"20",unit:"℃"},{name:"冷却水出口温度",value:"30",default:"30",unit:"℃"},{name:"冷却水流量",value:"25000",default:"25000",unit:"kg/s"},{name:"冷却水比热",value:"4.18",default:"4.18",unit:"kJ/(kg·℃)"},{name:"冷却水密度",value:"1000",default:"1000",unit:"kg/m³"},{name:"凝汽器换热面积",value:"54000",default:"54000",unit:"m²"},{name:"冷却管外径",value:"25",default:"25",unit:"mm"},{name:"冷却管壁厚",value:"0.5",default:"0.5",unit:"mm"},{name:"冷却管数量",value:"55000",default:"55000",unit:"根"},{name:"流程数",value:"2",default:"2",unit:""},{name:"设计清洁系数",value:"0.9",default:"0.9",unit:""}],tube_materials:["HSn70-1(锡黄铜)","HA177-2(铝黄铜)","BFe30-1-1(铁白铜)","BFe10-1-1(铁白铜)","碳钢","TP304,TP316,TP317(不锈钢)","TA1,TA2(钛合金)"],material_index:-1,results:[{name:"凝汽器饱和温度",value:"",unit:"℃"},{name:"冷却水温升",value:"",unit:"℃"},{name:"凝汽器端差",value:"",unit:"℃"},{name:"冷却水管内流速",value:"",unit:"m/s"},{name:"基本传热系数",value:"",unit:"kW/(m²·℃)"},{name:"冷却水温修正系数",value:"",unit:""},{name:"管材和壁厚修正系数",value:"",unit:""},{name:"总体传热系数",value:"",unit:"kW/(m²·℃)"},{name:"凝汽器清洁系数",value:"",unit:""},{name:"凝汽器清洁度",value:"",unit:"%"}],storageKey:"__cleanliness_input",notes:["1、本程序依据《凝汽器与真空系统运行维护导则》(DL/T 932-2019)所列方法编制。","2、本程序根据标准公式计算凝汽器变工况特性，未对特定凝汽器进行校核，计算结果仅供参考。","3、输入区域中“凝汽器热负荷”和“冷却水流量”输入其一即可，当两项都有输入数据时，以“凝汽器热负荷”数据为准进行计算。"]}),onLoad(){try{let t=e(this.storageKey);if(t&&t.length==this.inputs.length+1){this.material_index=parseInt(t[0]);for(let e=0;e<this.inputs.length;e++)this.inputs[e].value=t[e+1];this.implCalc()}else this.material_index=this.tube_materials.length-1}catch(t){console.log(t.message)}},computed:{isReady:function(){if(""==this.inputs[0].value&&""==this.inputs[4].value)return!1;for(let e=1;e<this.inputs.length;e++)if(4!=e&&""==this.inputs[e].value)return!1;for(let e=0;e<this.inputs.length;e++)if(isNaN(parseFloat(this.inputs[e].value)))return!1;return!0}},methods:{onMaterialSelect:function(e){let t=parseInt(e.detail.value);this.material_index=t},implCalc:function(){let e,a,l=parseFloat(this.inputs[1].value),s=parseFloat(this.inputs[2].value),u=parseFloat(this.inputs[3].value),n=parseFloat(this.inputs[5].value),i=parseFloat(this.inputs[6].value),o=parseFloat(this.inputs[7].value),r=parseFloat(this.inputs[8].value),c=parseFloat(this.inputs[9].value),f=parseFloat(this.inputs[10].value),h=parseFloat(this.inputs[11].value),d=parseFloat(this.inputs[12].value);""!=this.inputs[0].value?(e=parseFloat(this.inputs[0].value),a=1e3*e/n/(u-s)):(a=parseFloat(this.inputs[4].value),e=a*n*(u-s)/1e3);let m,v=y(a,r,c,f,h,i);try{m=k(r,v)}catch(S){t({title:"警告",content:S.message,showCancel:!1});for(let e of this.results)e.value="";return!1}let p=P(l/1e3,1);if(null==p){for(let e of this.results)e.value="";return t({title:"警告",content:"请检查输入数据是否在有效范围。",showCancel:!1}),!1}let _,g=p.t-273.15,x=C(s),j=F(this.material_index,c);try{_=b(e,s,u,g,o,m,x,j)}catch(S){t({title:"警告",content:S.message,showCancel:!1});for(let e of this.results)e.value="";return!1}let K=u-s,T=g-u,w=_/d*100,R=m*x*j*_;return this.results[0].value=g.toPrecision(4),this.results[1].value=K.toPrecision(4),this.results[2].value=T.toPrecision(4),this.results[3].value=v.toPrecision(4),this.results[4].value=m.toPrecision(4),this.results[5].value=x.toPrecision(4),this.results[6].value=j.toPrecision(4),this.results[7].value=R.toPrecision(4),this.results[8].value=_.toPrecision(4),this.results[9].value=w.toPrecision(4),!0},onCalc:function(e){if(this.implCalc()){let e=[this.material_index.toString()];for(const t of this.inputs)e.push(t.value);try{a(this.storageKey,e)}catch(t){console.log("无法保存输入数据-cleanliness")}}},onReset:function(e){for(let t of this.inputs)t.value=t.default;this.material_index=this.tube_materials.length-1;for(let t of this.results)t.value="";l(this.storageKey)},onClear:function(e){for(let t of this.inputs)t.value="";for(let t of this.results)t.value="";l(this.storageKey)}}},[["render",function(e,t,a,l,k,C){const F=m,b=v,y=i,P=g,x=p,j=_;return s(),u(y,{class:"content"},{default:n((()=>[o(F,null,{default:n((()=>[r("输入区域：")])),_:1}),o(y,{class:"input-content"},{default:n((()=>[(s(!0),c(h,null,f(k.inputs,((e,t)=>(s(),u(y,{class:"input-item",key:t},{default:n((()=>[o(y,{class:"input-name"},{default:n((()=>[o(b,null,{default:n((()=>[r(d(e.name),1)])),_:2},1024)])),_:2},1024),o(P,{class:"input-val",type:"digit",placeholder:"请输入数据",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t},null,8,["modelValue","onUpdate:modelValue"]),o(y,{class:"input-unit"},{default:n((()=>[o(b,null,{default:n((()=>[r(d(e.unit),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),o(y,{class:"picker-content"},{default:n((()=>[o(y,{class:"picker-hint"},{default:n((()=>[o(b,null,{default:n((()=>[r("请选择冷却管材料：")])),_:1})])),_:1}),o(x,{class:"picker-item",onChange:C.onMaterialSelect,value:k.material_index,range:k.tube_materials},{default:n((()=>[r(d(k.tube_materials[k.material_index])+" ",1),o(b,{class:"mark-triangle"},{default:n((()=>[r("▼")])),_:1})])),_:1},8,["onChange","value","range"])])),_:1})])),_:1}),o(y,{class:"calc"},{default:n((()=>[o(j,{class:"calc-button-main","hover-class":"calc-button-main-hover",onClick:C.onCalc,disabled:!C.isReady},{default:n((()=>[r("开始计算")])),_:1},8,["onClick","disabled"]),o(j,{class:"calc-button-clear","hover-class":"calc-button-clear-hover",onClick:C.onClear},{default:n((()=>[r("清除输入")])),_:1},8,["onClick"]),o(j,{class:"calc-button-reset","hover-class":"calc-button-reset-hover",onClick:C.onReset},{default:n((()=>[r("恢复默认")])),_:1},8,["onClick"])])),_:1}),o(F,null,{default:n((()=>[r("计算结果：")])),_:1}),o(y,{class:"result-content"},{default:n((()=>[o(y,{class:"result-content"},{default:n((()=>[(s(!0),c(h,null,f(k.results,((e,t)=>(s(),u(y,{class:"result-item",key:t},{default:n((()=>[o(y,{class:"result-name"},{default:n((()=>[o(b,null,{default:n((()=>[r(d(e.name),1)])),_:2},1024)])),_:2},1024),o(y,{class:"result-val"},{default:n((()=>[o(b,null,{default:n((()=>[r(d(e.value),1)])),_:2},1024)])),_:2},1024),o(y,{class:"result-unit"},{default:n((()=>[o(b,null,{default:n((()=>[r(d(e.unit),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),o(F,null,{default:n((()=>[r("相关说明：")])),_:1}),o(y,{class:"notes"},{default:n((()=>[(s(!0),c(h,null,f(k.notes,((e,t)=>(s(),u(y,{class:"notes-item",key:t},{default:n((()=>[o(b,null,{default:n((()=>[r(d(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}]]);export{j as default};
